import{a as g,_ as F}from"./axios.08608190.js";import{_ as P}from"./nuxt-link.aed1c080.js";import{f as U,g as V,s as k,o as c,c as d,r as y,b as v,w as S,d as w,t as u,a as t,F as C,h as r,i as D,j,k as M,l as A,m as h,v as B,n as p,q as E,x as _}from"./entry.818f3438.js";const N=U({id:"character",state:()=>({characters:[],info:{},selectedName:"",selectedStatus:"all",prevSelectedName:"",prevSelectedStatus:"",page:1,notFound:!1}),actions:{async getFilteredCharacters(n){try{const o=(await g.get(n)).data;this.setData(o),this.page=1,this.notFound=!1}catch(e){e instanceof g.AxiosError&&(this.notFound=!0)}},async setData(n){this.characters=n.results,this.info=n.info},async nextPage(){if(this.page<this.info.pages){this.page++;const n=this.info.next;try{const o=(await g.get(n)).data;this.characters=o.results,this.info=o.info}catch(e){console.error(e)}}},async prevPage(){if(this.page>1){this.page--;const n=this.info.prev;try{const o=(await g.get(n)).data;this.characters=o.results,this.info=o.info}catch(e){console.error(e)}}},async filterCharacters(){(this.selectedName!==this.prevSelectedName||this.selectedStatus!==this.prevSelectedStatus)&&(this.selectedName&&this.selectedStatus&&this.selectedStatus!=="all"&&this.getFilteredCharacters(`https://rickandmortyapi.com/api/character/?name=${this.selectedName}&status=${this.selectedStatus}`),!this.selectedName&&this.selectedStatus&&this.selectedStatus!=="all"&&this.getFilteredCharacters(`https://rickandmortyapi.com/api/character/?status=${this.selectedStatus}`),this.selectedStatus==="all"&&this.selectedName&&this.getFilteredCharacters(`https://rickandmortyapi.com/api/character/?name=${this.selectedName}`),this.selectedStatus==="all"&&this.selectedName===""&&this.getFilteredCharacters("https://rickandmortyapi.com/api/character/?page=1"),this.prevSelectedName=this.selectedName,this.prevSelectedStatus=this.selectedStatus)}},persist:{storage:V.localStorage}}),R=["src"],T=t("h3",{id:"posts",class:"text-2xl"},"Episodes:",-1),L={class:"flex gap-3 text-2xl"},q={__name:"Card",setup(n){const e=N(),{characters:o}=k(e);return(l,f)=>{const m=P;return c(!0),d(C,null,y(r(o),i=>(c(),d("div",{class:"h-full p-[5%] bg-gradient-to-br to-gray-950 from-cyan-900 rounded-lg flex flex-col justify-start items-center",key:i.id},[v(m,{class:"text-2xl text-center hover:scale-110 transition-all mb-3",to:`/character/${i.id}`},{default:S(()=>[w("Name: "+u(i.name),1)]),_:2},1032,["to"]),t("img",{class:"w-1/3 rounded-md mb-2",src:i.image,alt:"Character picture"},null,8,R),t("p",null,u(i.status)+" - "+u(i.species),1),T,t("ul",L,[(c(!0),d(C,null,y(i.episode.slice(0,5),x=>(c(),d("li",{class:"text-pink-100 hover:scale-110 transition-transform min-w-[35px] rounded-lg text-center",key:x.id},[v(m,{to:`/episode/${x.match(/\d+$/)[0]}`},{default:S(()=>[w(u(x.match(/\d+$/)[0]),1)]),_:2},1032,["to"])]))),128))])]))),128)}}},H=q,z={class:"flex flex-col items-center justify-center m-[4%]"},G=t("h1",{class:"text-[50px]"},"Characters",-1),I={class:"max-w-md flex gap-5"},J={key:0,class:"self-start text-red-600 text-lg"},K={class:"flex flex-col md:flex-row gap-4 text-lg"},O={class:"flex gap-5"},Q=t("label",{for:"alive"},"Alive",-1),W={class:"flex gap-5"},X=t("label",{for:"dead"},"Dead",-1),Y={class:"flex gap-5"},Z=t("label",{for:"unknown"},"Unknown",-1),ee={class:"flex gap-5"},te=t("label",{for:"all"},"All",-1),se={class:"flex justify-center gap-7 mb-5"},ae={class:"text-xl"},re={class:"grid w-full gap-5 flex-col items-center md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},ie=D({__name:"index",setup(n){const e=N(),{info:o,selectedStatus:l,selectedName:f,page:m,notFound:i}=k(e);return j(()=>{e.filterCharacters()}),M(()=>{e.filterCharacters()}),(x,s)=>{const b=F,$=H;return c(),d(C,null,[v(b),t("section",z,[G,t("form",{class:"flex gap-8 m-8 flex-col lg:flex-row w-full justify-between",onSubmit:s[9]||(s[9]=A((...a)=>r(e).filterCharacters&&r(e).filterCharacters(...a),["prevent"]))},[t("div",I,[h(t("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>p(f)?f.value=a:null),type:"text",class:"border-blue-800 bg-gray-700 h-7 rounded-md text-lg",placeholder:"Find character"},null,512),[[B,r(f)]]),r(i)?(c(),d("p",J,"Not found")):E("",!0)]),t("div",K,[t("div",O,[h(t("input",{id:"alive","onUpdate:modelValue":s[1]||(s[1]=a=>p(l)?l.value=a:null),type:"radio",value:"alive",class:"w-5 checked:scale-150 transition-transform",onChange:s[2]||(s[2]=(...a)=>r(e).filterCharacters&&r(e).filterCharacters(...a))},null,544),[[_,r(l)]]),Q]),t("div",W,[h(t("input",{id:"dead","onUpdate:modelValue":s[3]||(s[3]=a=>p(l)?l.value=a:null),type:"radio",value:"dead",class:"w-5 checked:scale-150 transition-transform",onChange:s[4]||(s[4]=(...a)=>r(e).filterCharacters&&r(e).filterCharacters(...a))},null,544),[[_,r(l)]]),X]),t("div",Y,[h(t("input",{id:"unknown","onUpdate:modelValue":s[5]||(s[5]=a=>p(l)?l.value=a:null),type:"radio",value:"unknown",class:"w-5 checked:scale-150 transition-transform",onChange:s[6]||(s[6]=(...a)=>r(e).filterCharacters&&r(e).filterCharacters(...a))},null,544),[[_,r(l)]]),Z]),t("div",ee,[h(t("input",{id:"all","onUpdate:modelValue":s[7]||(s[7]=a=>p(l)?l.value=a:null),type:"radio",value:"all",class:"w-5 checked:scale-150 transition-transform",onChange:s[8]||(s[8]=(...a)=>r(e).filterCharacters&&r(e).filterCharacters(...a))},null,544),[[_,r(l)]]),te])])],32),t("nav",se,[t("button",{class:"text-xl font-bold hover:text-purple-400 transition-colors",onClick:s[10]||(s[10]=(...a)=>r(e).prevPage&&r(e).prevPage(...a))}," Previous Page "),t("p",ae,u(r(m))+"/"+u(r(o).pages),1),t("button",{class:"text-xl font-bold hover:text-purple-400 transition-colors",onClick:s[11]||(s[11]=(...a)=>r(e).nextPage&&r(e).nextPage(...a))}," Next Page ")]),t("div",re,[v($)])])],64)}}});export{ie as default};
