import{a as x,_ as F}from"./axios.cbe37048.js";import{_ as P}from"./nuxt-link.a1eb3bcb.js";import{f as U,g as V,s as b,o as h,c as u,r as C,b as v,w as S,d as w,t as p,a as s,F as y,h as e,i as L,j as D,k as j,l as f,v as M,m as g,n as A,q as _}from"./entry.502feeed.js";const k=U({id:"character",state:()=>({characters:[],info:{},selectedName:"",selectedStatus:"all",prevSelectedName:"",prevSelectedStatus:"",page:1,notFound:!1,isLoading:!1}),actions:{async getFilteredCharacters(i){try{const o=(await x.get(i)).data;this.setData(o),this.page=1,this.notFound=!1}catch(t){t instanceof x.AxiosError&&(this.notFound=!0)}},async setData(i){this.characters=i.results,this.info=i.info},async nextPage(){if(this.page<this.info.pages){const i=this.info.next;try{this.isLoading=!0;const o=(await x.get(i)).data;this.page++,this.characters=o.results,this.info=o.info}catch(t){console.error(t)}finally{this.isLoading=!1}}},async prevPage(){if(this.page>1){const i=this.info.prev;try{this.isLoading=!0;const o=(await x.get(i)).data;this.page--,this.characters=o.results,this.info=o.info}catch(t){console.error(t)}finally{this.isLoading=!1}}},async filterCharacters(){(this.selectedName!==this.prevSelectedName||this.selectedStatus!==this.prevSelectedStatus)&&(this.selectedName&&this.selectedStatus&&this.selectedStatus!=="all"&&this.getFilteredCharacters(`https://rickandmortyapi.com/api/character/?name=${this.selectedName}&status=${this.selectedStatus}`),!this.selectedName&&this.selectedStatus&&this.selectedStatus!=="all"&&this.getFilteredCharacters(`https://rickandmortyapi.com/api/character/?status=${this.selectedStatus}`),this.selectedStatus==="all"&&this.selectedName&&this.getFilteredCharacters(`https://rickandmortyapi.com/api/character/?name=${this.selectedName}`),this.selectedStatus==="all"&&this.selectedName===""&&this.getFilteredCharacters("https://rickandmortyapi.com/api/character/?page=1"),this.prevSelectedName=this.selectedName,this.prevSelectedStatus=this.selectedStatus)}},persist:{storage:V.localStorage}}),B=["src"],E=s("h3",{id:"posts",class:"text-2xl"},"Episodes:",-1),R={class:"flex gap-3 text-2xl"},T={__name:"Card",setup(i){const t=k(),{characters:o}=b(t);return(r,m)=>{const c=P;return h(!0),u(y,null,C(e(o),n=>(h(),u("div",{class:"h-full p-[5%] bg-gradient-to-br to-gray-950 from-cyan-900 rounded-lg flex flex-col justify-start items-center",key:n.id},[v(c,{class:"text-2xl text-center hover:scale-110 transition-all mb-3",to:`/character/${n.id}`},{default:S(()=>[w("Name: "+p(n.name),1)]),_:2},1032,["to"]),s("img",{class:"w-1/3 rounded-md mb-2",src:n.image,alt:"Character picture"},null,8,B),s("p",null,p(n.status)+" - "+p(n.species),1),E,s("ul",R,[(h(!0),u(y,null,C(n.episode.slice(0,5),d=>(h(),u("li",{class:"text-pink-100 hover:scale-110 transition-transform min-w-[35px] rounded-lg text-center",key:d.id},[v(c,{to:`/episode/${d.match(/\d+$/)[0]}`},{default:S(()=>[w(p(d.match(/\d+$/)[0]),1)]),_:2},1032,["to"])]))),128))])]))),128)}}},q=T;const H={class:"flex flex-col items-center justify-center m-[4%]"},z=s("h1",{class:"text-[50px]"},"Characters",-1),G={class:"max-w-md flex gap-5"},I={key:0,class:"self-start text-red-600 text-lg"},J={class:"flex flex-col md:flex-row gap-4 text-lg"},K={class:"flex gap-5"},O=s("label",{for:"alive"},"Alive",-1),Q={class:"flex gap-5"},W=s("label",{for:"dead"},"Dead",-1),X={class:"flex gap-5"},Y=s("label",{for:"unknown"},"Unknown",-1),Z={class:"flex gap-5"},tt=s("label",{for:"all"},"All",-1),et={class:"flex justify-center gap-7 mb-5"},st=["disabled"],at={class:"text-xl"},lt=["disabled"],rt={class:"grid w-full gap-5 flex-col items-center md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},dt={__name:"index",setup(i){const t=k(),{info:o,selectedStatus:r,selectedName:m,page:c,notFound:n,isLoading:d}=b(t);return L(()=>{t.filterCharacters()}),D(()=>{t.filterCharacters()}),(ot,a)=>{const N=F,$=q;return h(),u(y,null,[v(N),s("section",H,[z,s("form",{class:"flex gap-8 m-8 flex-col lg:flex-row w-full justify-between",onSubmit:a[9]||(a[9]=j((...l)=>e(t).filterCharacters&&e(t).filterCharacters(...l),["prevent"]))},[s("div",G,[f(s("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>g(m)?m.value=l:null),type:"text",class:"border-blue-800 bg-gray-700 h-7 rounded-md text-lg",placeholder:"Find character"},null,512),[[M,e(m)]]),e(n)?(h(),u("p",I,"Not found")):A("",!0)]),s("div",J,[s("div",K,[f(s("input",{id:"alive","onUpdate:modelValue":a[1]||(a[1]=l=>g(r)?r.value=l:null),type:"radio",value:"alive",class:"w-5 checked:scale-150 transition-transform",onChange:a[2]||(a[2]=(...l)=>e(t).filterCharacters&&e(t).filterCharacters(...l))},null,544),[[_,e(r)]]),O]),s("div",Q,[f(s("input",{id:"dead","onUpdate:modelValue":a[3]||(a[3]=l=>g(r)?r.value=l:null),type:"radio",value:"dead",class:"w-5 checked:scale-150 transition-transform",onChange:a[4]||(a[4]=(...l)=>e(t).filterCharacters&&e(t).filterCharacters(...l))},null,544),[[_,e(r)]]),W]),s("div",X,[f(s("input",{id:"unknown","onUpdate:modelValue":a[5]||(a[5]=l=>g(r)?r.value=l:null),type:"radio",value:"unknown",class:"w-5 checked:scale-150 transition-transform",onChange:a[6]||(a[6]=(...l)=>e(t).filterCharacters&&e(t).filterCharacters(...l))},null,544),[[_,e(r)]]),Y]),s("div",Z,[f(s("input",{id:"all","onUpdate:modelValue":a[7]||(a[7]=l=>g(r)?r.value=l:null),type:"radio",value:"all",class:"w-5 checked:scale-150 transition-transform",onChange:a[8]||(a[8]=(...l)=>e(t).filterCharacters&&e(t).filterCharacters(...l))},null,544),[[_,e(r)]]),tt])])],32),s("nav",et,[s("button",{class:"text-lg lg:text-xl font-bold min-w-[130px] lg:min-w-[150px] hover:text-purple-400 transition-colors",onClick:a[10]||(a[10]=(...l)=>e(t).prevPage&&e(t).prevPage(...l)),disabled:e(d)||e(c)===1}," Previous Page ",8,st),s("p",at,p(e(c))+"/"+p(e(o).pages),1),s("button",{class:"text-lg lg:text-xl min-w-[130px] lg:min-w-[150px] font-bold hover:text-purple-400 transition-colors",onClick:a[11]||(a[11]=(...l)=>e(t).nextPage&&e(t).nextPage(...l)),disabled:e(d)||e(c)===e(o).pages}," Next Page ",8,lt)]),s("div",rt,[v($)])])],64)}}};export{dt as default};
